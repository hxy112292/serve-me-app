<ion-header>
  <ion-toolbar>
    <ion-title>Bid Detail</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header>
      <ion-card-subtitle>
        <ion-icon name="wallet" color="danger"></ion-icon>
        <ion-text>　BidNo: {{order.id}}, {{order.createTime | date:'MMM dd yyyy HH:mm:ss'}}</ion-text>
      </ion-card-subtitle>
      <ion-card-title>{{order.serviceType}}  ({{order.status}})</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row>
          <ion-col [size]="1">
            <ion-icon name="person" color="primary"></ion-icon>
          </ion-col>
          <ion-col [size]="3">
            <ion-label>Customer:</ion-label>
          </ion-col>
          <ion-col>
            <ion-text>{{order.customerName}}</ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col [size]="1">
            <ion-icon name="call" color="dark"></ion-icon>
          </ion-col>
          <ion-col [size]="3">
            <ion-label>Phone:</ion-label>
          </ion-col>
          <ion-col>
            <ion-text>{{order.customerPhone}}</ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col [size]="1">
            <ion-icon name="pin" color="tertiary"></ion-icon>
          </ion-col>
          <ion-col [size]="3">
            <ion-label>Address:</ion-label>
          </ion-col>
          <ion-col>
            <ion-text>{{order.address}}</ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col [size]="1">
            <ion-icon name="calendar" color="danger"></ion-icon>
          </ion-col>
          <ion-col [size]="3">
            <ion-label>Time:</ion-label>
          </ion-col>
          <ion-col>
            <ion-text>{{order.dateStart | date:'MMM dd'}} - {{order.dateEnd | date: 'MMM dd'}}</ion-text>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col [size]="1">
            <ion-icon name="document" color="success"></ion-icon>
          </ion-col>
          <ion-col [size]="3">
            <ion-label>Description:</ion-label>
          </ion-col>
          <ion-col>
            <ion-text text-wrap>{{order.description}}</ion-text>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <br>
  <div class="ion-text-center">
    <ion-title>Your bid</ion-title>
  </div>
  <br>

  <ion-grid>
    <ion-row>
      <ion-col [size]="2" style="align-self: center;text-align: center;">
        <ion-icon name="contact" style="font-size: 35px" color="medium"></ion-icon>
        <ion-text>{{this.constant.getUser().username}}</ion-text>
      </ion-col>
      <ion-col>
        <ion-card>
          <ion-card-content>
            <ion-list>
              <ion-item>
                <ion-icon name="card" color="warning" size="small"></ion-icon>
                <ion-label>　Price ($/day):</ion-label>
                <ion-input placeholder="Your bid" [(ngModel)]="bid.price"></ion-input>
              </ion-item>
            </ion-list>
            <div *ngIf="isBid == false" class="ion-text-center">
              <ion-button (click)="provideBid()">PROVIDE</ion-button>
            </div>
            <div *ngIf="isBid == true" class="ion-text-center">
              <ion-button (click)="updateBid()">UPDATE</ion-button>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
